<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>CompoLink Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- AUTH WRAPPER (login / signup) -->
  <div id="auth-wrapper" class="auth-wrapper">
    <div class="auth-card">
      <h1>CompoLink</h1>
      <p class="auth-subtitle">
        Connect EU composite buyers &amp; suppliers in één platform.
      </p>

      <div class="auth-tabs">
        <button id="login-tab" class="auth-tab active">Log in</button>
        <button id="signup-tab" class="auth-tab">Sign up</button>
      </div>

      <!-- LOGIN FORM -->
      <form id="login-form" class="auth-form">
        <label>
          E-mail
          <input type="email" id="login-email" autocomplete="email" required />
        </label>
        <label>
          Wachtwoord
          <input
            type="password"
            id="login-password"
            autocomplete="current-password"
            required
          />
        </label>
        <p id="login-error" class="auth-error"></p>
        <button type="submit" class="primary-btn">Log in</button>
      </form>

      <!-- SIGNUP FORM -->
      <form id="signup-form" class="auth-form hidden">
        <label>
          Volledige naam
          <input type="text" id="signup-name" autocomplete="name" required />
        </label>
        <label>
          E-mail
          <input type="email" id="signup-email" autocomplete="email" required />
        </label>
        <label>
          Wachtwoord
          <input
            type="password"
            id="signup-password"
            autocomplete="new-password"
            required
          />
        </label>

        <fieldset class="role-fieldset">
          <legend>Rol</legend>
          <label>
            <input type="radio" name="signup-role" value="buyer" checked />
            Buyer (OEM / MRO / integrator)
          </label>
          <label>
            <input type="radio" name="signup-role" value="supplier" />
            Supplier (materials / semi-finished)
          </label>
        </fieldset>

        <p id="signup-error" class="auth-error"></p>
        <button type="submit" class="primary-btn">Account aanmaken</button>
      </form>
    </div>
  </div>

  <!-- APP (zichtbaar na inloggen) -->
  <div id="app" class="app hidden">
    <!-- TOPBAR -->
    <header class="app-header">
      <div class="app-header-left">
        <span class="logo-dot"></span>
        <span class="logo-text">CompoLink Platform</span>
      </div>
      <div class="app-header-right">
        <span class="user-label">
          Ingelogd als: <strong id="user-tag">–</strong>
        </span>
        <button id="logout-btn" class="ghost-btn">Uitloggen</button>
      </div>
    </header>

    <div class="app-layout">
      <!-- SIDEBAR NAV -->
      <aside class="sidebar">
        <nav class="sidebar-nav">
          <button class="nav-btn active" data-page="overview">Overview</button>
          <button class="nav-btn" data-page="analytics">Analytics</button>
          <button class="nav-btn" data-page="community">Community</button>
          <button class="nav-btn" data-page="checkout">Checkout</button>
        </nav>

        <!-- LIVE MARKET PRICES LINKS -->
        <section class="sidebar-section">
          <h3>Live material prices</h3>
          <ul id="market-prices" class="market-prices-list">
            <!-- JS vult dit met goud / zilver / etc. -->
          </ul>
          <p class="market-note">
            Indicatieve prijzen, automatisch ververst.
          </p>
        </section>
      </aside>

      <!-- MAIN CONTENT -->
      <main class="main">
        <!-- ============ OVERVIEW / STOCK ============ -->
        <section id="overview" class="page active-page">
          <h2>Available stock</h2>
          <p class="page-intro">
            Snelle indruk van beschikbare composietmaterialen in het netwerk.
          </p>

          <div class="overview-layout">
            <div class="stock-block">
              <h3>Material list</h3>
              <table class="stock-table">
                <thead>
                  <tr>
                    <th>Materiaal</th>
                    <th>Prijs €/kg</th>
                    <th>Beschikbaar (kg)</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    data-item='{"name":"Carbon prepreg T700","price":38,"weight":50}'
                  >
                    <td>Carbon prepreg T700</td>
                    <td>€38,00</td>
                    <td>1500</td>
                    <td>
                      <button type="button" class="add-to-cart">
                        In mandje
                      </button>
                    </td>
                  </tr>
                  <tr
                    data-item='{"name":"Epoxy resin system 2K","price":9.5,"weight":25}'
                  >
                    <td>Epoxy resin system 2K</td>
                    <td>€9,50</td>
                    <td>3200</td>
                    <td>
                      <button type="button" class="add-to-cart">
                        In mandje
                      </button>
                    </td>
                  </tr>
                  <tr
                    data-item='{"name":"Glass fabric 450 g/m²","price":4.2,"weight":30}'
                  >
                    <td>Glass fabric 450 g/m²</td>
                    <td>€4,20</td>
                    <td>7800</td>
                    <td>
                      <button type="button" class="add-to-cart">
                        In mandje
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <aside class="cart-summary">
              <h3>Mini-cart</h3>
              <ul id="cart-items" class="cart-items"></ul>
              <p id="cart-empty-msg" class="muted">
                Je mandje is nog leeg.
              </p>
              <p>Totaal gewicht: <span id="cart-weight">0.0</span> kg</p>
              <p>Materiaalprijs: €<span id="cart-total">0.00</span></p>
            </aside>
          </div>
        </section>

        <!-- ============ ANALYTICS ============ -->
        <section id="analytics" class="page">
          <h2>Analytics</h2>
          <p class="page-intro">
            Simpel voorbeeld van volume per materiaaltype in het netwerk.
          </p>
          <canvas id="stockChart" height="150"></canvas>
        </section>

        <!-- ============ COMMUNITY ============ -->
        <section id="community" class="page">
          <div class="community-layout">
            <aside class="community-sidebar">
              <h3>Groups</h3>
              <ul id="group-list" class="group-list"></ul>
            </aside>

            <div class="community-main">
              <div class="community-header">
                <h2>
                  Community feed:
                  <span id="current-group-name">Market updates</span>
                </h2>
              </div>

              <div id="post-feed" class="post-feed"></div>

              <form id="post-form" class="post-form">
                <textarea
                  id="post-text"
                  rows="3"
                  placeholder="Deel een update, RFQ, of logistiek issue..."
                ></textarea>
                <div class="post-form-row">
                  <input type="file" id="post-file" />
                  <button type="submit" class="primary-btn">
                    Plaatsen
                  </button>
                </div>
              </form>
            </div>
          </div>
        </section>

        <!-- ============ CHECKOUT ============ -->
        <section id="checkout" class="page">
          <h2>Checkout</h2>
          <div class="checkout-layout">
            <div class="checkout-column">
              <h3>Winkelmand</h3>
              <ul id="cart-items-checkout" class="cart-items">
                <!-- we gebruiken hetzelfde cart-model; in JS koppelen we aan zelfde UL (cart-items) -->
              </ul>
              <!-- de echte items worden in de overview-sectie getoond; samenvatting hieronder -->
              <p class="muted">
                Bovenstaande materialen zijn een demo van de platform-logica.
              </p>
            </div>

            <div class="checkout-column">
              <h3>Verzendkosten</h3>
              <form id="shipping-form">
                <label>
                  Regio
                  <select id="ship-region">
                    <option value="NL">Nederland</option>
                    <option value="EU">Europa (EU)</option>
                    <option value="WORLD">Rest van de wereld</option>
                  </select>
                </label>
                <label>
                  Gewicht (kg)
                  <input
                    type="number"
                    id="ship-weight"
                    step="0.1"
                    min="0"
                    placeholder="Wordt automatisch ingevuld"
                  />
                </label>
                <button type="submit" class="primary-btn">
                  Bereken totaal
                </button>
              </form>

              <div class="summary-box">
                <p>Materiaal: €<span id="summary-material">0.00</span></p>
                <p>Verzending: €<span id="summary-shipping">0.00</span></p>
                <p>
                  <strong>
                    Totaal: €<span id="summary-total">0.00</span>
                  </strong>
                </p>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <footer class="app-footer">
      © <span id="year"></span> CompoLink – EU composite supply network
    </footer>
  </div>

  <!-- =========================
       SCRIPTS
       ========================= -->

  <!-- Firebase v8 CDN -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

  <!-- VUL HIER JOUW ECHTE FIREBASE CONFIG IN -->
  <script>
    const firebaseConfig = {
      apiKey: "JOUW_API_KEY_HIER",
      authDomain: "JOUW_AUTH_DOMAIN_HIER",
      projectId: "JOUW_PROJECT_ID_HIER",
      storageBucket: "JOUW_STORAGE_BUCKET_HIER",
      messagingSenderId: "JOUW_SENDER_ID_HIER",
      appId: "JOUW_APP_ID_HIER",
    };

    firebase.initializeApp(firebaseConfig);
  </script>

  <!-- Chart.js voor analytics -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- JOUW APP LOGICA -->
  <script src="app.js"></script>
</body>
</html>
